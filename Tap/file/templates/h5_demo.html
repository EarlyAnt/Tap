<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js调用android拍照</title>
</head>
<body>
<center>
    <!--<p id="lblFileName" style="width: 100%;height: 100px;font-size: 60px;">请选择文件</p><br/>-->
    <select id="selFileList1" style="width: 100%;height: 100px;font-size: 60px;">
        <option value="1" selected>1.jpg</option>
        <option value="2">2.jpg</option>
        <option value="3">3.jpg</option>
        <option value="4">h5_demo.html</option>
    </select><br/>
    <button id="btnUploadFile" type="button" style="width: 100%;height: 100px;font-size: 60px;"
            onclick="btnUploadFileOnClick()">上传
    </button>

    <br/><br/><br/><br/>
    <select id="selFileList2" style="width: 100%;height: 100px;font-size: 60px;">
        <option value="1" selected>bg1.jpg</option>
        <option value="2">bg2.jpg</option>
        <option value="3">bg3.jpg</option>
        <option value="4">bg4.jpg</option>
    </select><br/>
    <button id="btnDownloadFile" type="button" style="width: 100%;height: 100px;font-size: 60px;"
            onclick="btnDownloadFileOnClick()">下载
    </button>
    <br/><br/><br/><br/>

    <button id="btnTakePhoto" type="button" style="width: 100%;height: 100px;font-size: 60px;"
            onclick="btnTakePhotoOnClick()">拍照
    </button>
    <p id="lblTip" style="font-size: 30px;">提示</p><br/>

    <img id='imgPhoto' src="http://www.runoob.com/wp-content/uploads/2013/07/pic_html5.gif"
         style="width:auto;height:auto"/>
</center>
</body>
<script>
    var receiveImageUrl = function(url) {        
        document.getElementById("lblTip").innerText = "file://" + url;
		//document.getElementById("imgPhoto").src = "file://" + url;
		
		var androidImgKey="http://androidimg"
		document.getElementById("imgPhoto").src = androidImgKey + url;
    };

    var btnTakePhotoOnClick = function() {
        window.jsInterface.takePhoto();
    };

    var btnUploadFileOnClick = function() {
        var selFileList1 = document.getElementById("selFileList1");
        var index = selFileList1.selectedIndex;
        //document.getElementById("lblFileName").innerText = selFileList1[index].text;
        window.jsInterface.upload("http://192.168.0.105:5000/upload", selFileList1[index].text);
    };

    var btnDownloadFileOnClick = function() {
        var selFileList2 = document.getElementById("selFileList2");
        var index = selFileList2.selectedIndex;
        //document.getElementById("lblFileName").innerText = selFileList2[index].text;
        window.jsInterface.download("http://192.168.0.105:5000/download/" + selFileList2[index].text);
    };
</script>
</html>